# ====================================================================
# ðŸŽ¯ CONFIDENCE ENGINE - PRODUCTION CONFIGURATION (CLEANED)
# ====================================================================
# Essential configuration for both Hybrid Crypto Trader & Futures Agent
# All non-essential variables removed for production clarity

# === CORE SYSTEM SETTINGS ===
LOOKBACK_MINUTES=120
LOG_LEVEL=INFO
TB_ARTIFACTS_KEEP=500

# === ALPACA API CREDENTIALS (PRIMARY TRADING PLATFORM) ===
ALPACA_API_KEY_ID=PKOFKZ6766SVVXVJAAZY
ALPACA_API_SECRET_KEY=z7WJwrYbRuKnbSkwev7008HSOH6rWEG0ueqzB7kw
ALPACA_BASE_URL=https://paper-api.alpaca.markets
ALPACA_DATA_URL=https://data.alpaca.markets

# === PERPLEXITY API (NARRATIVE ANALYSIS) ===
PPLX_API_KEY_1=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
PPLX_MODEL=sonar
PPLX_TIMEOUT=45

# === NOTIFICATION CHANNELS ===
# Telegram Configuration
TELEGRAM_BOT_TOKEN=8260643609:AAFN21JABXyNNMUHBtdVMxTeLhUXkVMjyv0
TELEGRAM_CHAT_ID=6677851115
TB_NO_TELEGRAM=0

# Discord Webhooks
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/1404849629887205408/NPGWV0Fbp6NTqd7ZxpM9cfbT76ECCwdh5_THlRbjYOq2xL4aHIAHtdCub4afDesAofLE
DISCORD_TRADER_WEBHOOK_URL=https://discord.com/api/webhooks/1407649547185946664/YecTyfP6bvbNBQnD7E_42XOJlfU9kJhTGLRe8soAZT2Ry5OUr9kLrrrL6fmfZvd2yyoL
TB_ENABLE_DISCORD=1

# Heartbeat & Notifications
TB_TRADER_NOTIFY=1
TB_TRADER_NOTIFY_HEARTBEAT=1
TB_HEARTBEAT_EVERY_N=3

# === TRADING SAFETY SETTINGS ===
TB_NO_TRADE=0                    # Live trading enabled
TB_TRADER_OFFLINE=0              # Real market data allowed
TB_OFFLINE=0                     # Real data collection allowed

# === HYBRID CRYPTO TRADER CONFIGURATION ===
# Signal Thresholds (Ultra-Conservative)
TB_SENTIMENT_CUTOFF=0.0          # Temporarily disabled - API issues
TB_MIN_CONFIDENCE=0.3            # Lowered for technical signals only
TB_DIVERGENCE_THRESHOLD=0.15     # Lowered for signal collection

# Enhanced Features
TB_USE_ENHANCED_RISK=1
TB_USE_KELLY_SIZING=1
TB_USE_REGIME_DETECTION=1
TB_USE_ENSEMBLE_ML=1
TB_USE_ADAPTIVE_STRATEGY=1

# Asset Portfolio
TB_MULTI_ASSET=1
TB_MAX_POSITIONS=6
TB_ASSET_LIST=BTCUSD,ETHUSD,ADAUSD,AVAXUSD,SOLUSD,DOTUSD,MATICUSD,LINKUSD,UNIUSD,AAVEUSD,ATOMUSD,ALGOUSD,LTCUSD,BCHUSD,XTZUSD

# Risk Management
TB_MAX_RISK_FRAC=0.003           # 0.3% per trade
TB_PORTFOLIO_VAR_LIMIT=0.02      # 2.0% portfolio VaR
TB_MAX_CORRELATION=0.7

# ML Gate Configuration
TB_USE_ML_GATE=1
TB_ML_GATE_MODEL_PATH=eval_runs/ml/latest/model.pt
TB_ML_GATE_SOFT=1
TB_ML_PROB_FLOOR=0.25
TB_ML_GATE_MIN_PROB=0.25
TB_ML_LATEST_MAX_AGE_HR=24

# Entry Configuration
TB_USE_1H_ENTRY=1
TB_1H_EMA_FAST=12
TB_1H_EMA_SLOW=26
TB_1H_DEBOUNCE_N=1
TB_1H_SIZE_MULT=0.6

# Trader Configuration
TB_TRADER_TF=4h
TB_TRADER_RISK_FRAC=0.000001
TB_TRADER_INTERVAL_SEC=60
TB_TRADER_COOLDOWN_SEC=900
TB_TRADER_MIN_NOTIONAL=10
TB_TRADER_ENTRY_TOL_BPS=10
TB_TRADER_ORDER_TTL_MIN=30
TB_TRADER_MIN_RR=2.0
TB_TRADER_LONGS_ONLY=1
TB_TRADER_SYMBOLS=BTCUSD,ETHUSD,ADAUSD,AVAXUSD,SOLUSD,DOTUSD,MATICUSD,LINKUSD,UNIUSD,AAVEUSD,ATOMUSD,ALGOUSD,LTCUSD,BCHUSD,XTZUSD
TB_MAX_NOTIONAL_PER_TRADE=1000

# === FUTURES TRADING AGENT CONFIGURATION ===
# Platform Settings
TB_ENABLE_FUTURES_TRADING=1
TB_FUTURES_PLATFORM=Binance Futures
TB_PAPER_TRADING=1               # Testnet mode

# Binance Testnet API Keys
BINANCE_TESTNET_API_KEY=db5d9c5f29997252d2bec6f73cbae2c0b9d1aa644fa88e7b0b982b67956a3f52
BINANCE_TESTNET_SECRET_KEY=e50d2f790f3618d7193a62549a5d05fcb49c361adcdf18160ab9fab3485e2293

# Ultra-Conservative Futures Settings
FUTURES_AGENT_CAPITAL=15000
FUTURES_MAX_LEVERAGE=5           # Ultra-conservative (was 25x)
FUTURES_RISK_PER_TRADE=0.003     # Ultra-conservative 0.3% (was 5%)
FUTURES_MAX_DAILY_LOSS=0.20
FUTURES_SYMBOLS=BTCUSDT,ETHUSDT,SOLUSDT,ADAUSDT,AVAXUSDT,DOTUSDT,LINKUSDT,UNIUSDT,AAVEUSDT,ATOMUSDT,ALGOUSDT,LTCUSDT,BCHUSDT,XRPUSDT,DOGEUSDT,NEARUSDT,SANDUSDT,MANAUSDT,CHZUSDT,ENJUSDT
FUTURES_MAX_POSITIONS=1          # Ultra-conservative (was 5)
FUTURES_MAX_TRADES_PER_CYCLE=2
FUTURES_EMERGENCY_CLOSE_LEGACY=1 # Emergency closure for legacy positions

# Signal Quality Thresholds
TB_MIN_SIGNAL_QUALITY=3.0
TB_MIN_CONVICTION_SCORE=4.0
TB_USE_ENHANCED_SIGNALS=1
TB_USE_REGIME_FILTERING=1
TB_INTELLIGENT_FUTURES_TPSL=1

# Platform Limits
BINANCE_MAX_TRADE_SIZE=5000
BINANCE_MAX_LEVERAGE=25          # Hard cap
BINANCE_PAPER_CAPITAL=15000
BINANCE_MAX_MARGIN_PER_TRADE=100

# === DATA SOURCES ===
TB_ENABLE_MULTI_SOURCE_DATA=1
TB_PREFERRED_DATA_SOURCE=yahoo
TB_DATA_SOURCE_FAILOVER=1

# === GIT AUTOMATION ===
TB_AUTOCOMMIT_ARTIFACTS=1
TB_AUTOCOMMIT_PUSH=1
TB_AUTOCOMMIT_INCLUDE_DB=1

# === SYSTEM VARIABLES ===
TB_RETRY_ATTEMPTS=3
SYMBOL=BTCUSD
TF_FAST=15Min
TF_SLOW=4h
