LOOKBACK_MINUTES=120
LOG_LEVEL=INFO

TB_ARTIFACTS_KEEP=500

TB_HUMAN_DIGEST=1
TB_DIGEST_INCLUDE_WEEKLY=1
TB_DIGEST_INCLUDE_ENGINE=1
TB_DIGEST_MAX_TFS=2
TB_DIGEST_DRIFT_WARN_PCT=0.5
TB_DIGEST_TOP_ALTS=ALL
TB_DIGEST_EXPLAIN_HIGH_RISK_ACTION=1

TELEGRAM_BOT_TOKEN=8260643609:AAFN21JABXyNNMUHBtdVMxTeLhUXkVMjyv0
TELEGRAM_CHAT_ID=6677851115

TB_ENABLE_POLYMARKET=1
TB_POLYMARKET_SOURCE=pplx
TB_POLYMARKET_ASSETS=BTC,ETH
TB_POLYMARKET_MAX_ITEMS=10
TB_POLYMARKET_MIN_LIQUIDITY=100000
TB_POLYMARKET_REQUIRE_LIQUIDITY=0
TB_POLYMARKET_MIN_QUALITY=0.0
TB_POLYMARKET_MIN_WEEKS=0
TB_POLYMARKET_MAX_WEEKS=52
TB_POLYMARKET_REQUIRE_RESOLUTION=0
TB_POLYMARKET_REQUIRE_ENDDATE=1
TB_POLYMARKET_SHOW_EMPTY=1
TB_POLYMARKET_LIMIT=50
TB_POLYMARKET_TITLE_KEYWORDS=BTC,Bitcoin,ETH,Ethereum
TB_POLYMARKET_DEBUG=0
TB_POLYMARKET_MAX_WINDOW_DAYS=30
TB_POLYMARKET_TODAY_ACTIVE_ONLY=0
TB_POLYMARKET_NUMBERS_IN_CHAT=0
TB_POLYMARKET_PPLX_USE_PLAIN_ONLY=1
TB_POLYMARKET_FALLBACK_NATIVE=1

TB_POLYMARKET_INTERNAL_ENABLE=1
TB_POLYMARKET_INTERNAL_MODE=bias
TB_POLYMARKET_INTERNAL_BIAS=0.05
TB_POLYMARKET_INTERNAL_ACTION_BIAS=0.08
TB_POLY_INT_ALIGN_W=0.2
TB_POLY_INT_READY_W=0.2
TB_POLY_INT_ACTION_W=0.4
TB_POLY_INT_RISK_W=0.2
TB_POLY_INT_MAX_SHIFT=0.2
TB_POLY_EDGE_TOL=0.02
TB_POLYMARKET_DEBUG=1

PPLX_API_KEY_1=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
PPLX_API_KEY_2=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
PPLX_API_KEY_3=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
PPLX_API_KEY_4=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
PPLX_API_KEY_5=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

TB_POLYMARKET_PPLX_USE_PLAIN_ONLY=1
PPLX_API_KEY=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
PPLX_MODEL=sonar
PPLX_TIMEOUT=45
TB_POLYMARKET_PPLX_RETRIES=3
TB_POLYMARKET_PPLX_PROMPT="You are a precise data extraction engine. List current active Polymarket crypto markets with focus on BTC and ETH. Include separate items for multiple strikes or thresholds if live. Apply these rules. Market must be live and not expired. End date between now plus one hour and now plus twelve weeks. Liquidity USD at least ten thousand. Resolution source must be present and clear. Exclude non crypto. Return up to ten by liquidity then earlier end date. Output strict JSON array only. Each item must include market name event end date implied probability liquidity usd resolution source asset and market id or slug."
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/1404849629887205408/NPGWV0Fbp6NTqd7ZxpM9cfbT76ECCwdh5_THlRbjYOq2xL4aHIAHtdCub4afDesAofLE
DISCORD_POLYMARKET_WEBHOOK_URL=https://discord.com/api/webhooks/1407632714680635393/AWDKIM35xTe78zwSbJALtUQfdv2KvGzvU78TEE2vubnhIKMxPR1gXa9ppI9PXmE4E4bk
DISCORD_CRYPTO_SIGNALS_WEBHOOK_URL=https://discord.com/api/webhooks/1407625986627080192/NAEsBjky_Dx1qhhxxysKo-Dg7M_6-8b5JysMFIjAdbfmVHjeYPVlaE1ua3wFwEZ_zkTL
DISCORD_TRADER_WEBHOOK_URL=https://discord.com/api/webhooks/1407649547185946664/YecTyfP6bvbNBQnD7E_42XOJlfU9kJhTGLRe8soAZT2Ry5OUr9kLrrrL6fmfZvd2yyoL
TB_TRADER_NOTIFY=1
TB_TRADER_NOTIFY_HEARTBEAT=1
TB_HEARTBEAT_EVERY_N=3

ALPACA_API_KEY_ID=PKOFKZ6766SVVXVJAAZY
ALPACA_API_SECRET_KEY=z7WJwrYbRuKnbSkwev7008HSOH6rWEG0ueqzB7kw
ALPACA_BASE_URL=https://paper-api.alpaca.markets
ALPACA_DATA_URL=https://data.alpaca.markets

TB_TRADER_TF=4h
TB_TRADER_RISK_FRAC=0.000001
TB_TRADER_INTERVAL_SEC=60
TB_TRADER_COOLDOWN_SEC=900
TB_TRADER_MIN_NOTIONAL=10
TB_TRADER_ENTRY_TOL_BPS=10
TB_TRADER_ENTRY_MID_ZONE=1
TB_TRADER_ORDER_TTL_MIN=30
TB_TRADER_MIN_RR=2.0


TB_DIGEST_HIDE_EQUITIES_IF_NO_DATA=1

TB_UNIVERSE_GIT_AUTOCOMMIT=1
TB_UNIVERSE_GIT_PUSH=1
TB_UNIVERSE_GIT_PUSH_DEFAULT=1

TB_EVAL_GIT_AUTOCOMMIT=1
TB_EVAL_GIT_PUSH=1
TB_EVAL_GIT_INCLUDE_DATA=0
TB_AUTOCOMMIT_DOCS=1

TB_POLYMARKET_SHOW_CONFIDENCE=0
TB_SHOW_ASSET_CONFIDENCE_IN_CHAT=0

TB_GRADE_W_CONF=0.45
TB_GRADE_W_CONFCHK=0.35
TB_GRADE_W_ALIGN=0.20
TB_GRADE_THRESH_A=0.85
TB_GRADE_THRESH_B=0.70
TB_GRADE_THRESH_C=0.55

TB_TRADER_LONGS_ONLY=1
TB_TRADER_SYMBOLS=BTC/USD,ETH/USD
TB_TRADER_ALLOW_SHORTS=0

TB_ENABLE_DISCORD=1
TB_NO_TELEGRAM=0

TB_TRADER_OFFLINE=0
TB_NO_TRADE=0
TB_OFFLINE=0


# Underrated scanner (Perplexity + enrichment)
# Run interval guard (days); default 7 to avoid spam
TB_UNDERRATED_RUN_INTERVAL_DAYS=0
# Market cap threshold (USD); only alert if <= threshold
TB_UNDERRATED_MARKETCAP_THRESHOLD=100000000
# Alert channel gating (set to 0 to disable)
TB_UNDERRATED_ALERT_DISCORD=1
TB_UNDERRATED_ALERT_TELEGRAM=1
# Optional dedicated Discord webhook for underrated alerts; otherwise uses DISCORD_CRYPTO_SIGNALS_WEBHOOK_URL or DISCORD_WEBHOOK_URL
DISCORD_UNDERRATED_WEBHOOK_URL=https://discord.com/api/webhooks/1407625986627080192/NAEsBjky_Dx1qhhxxysKo-Dg7M_6-8b5JysMFIjAdbfmVHjeYPVlaE1ua3wFwEZ_zkTL
# Persistence store and outputs directory
TB_UNDERRATED_STORE=data/underrated_store.json
TB_UNDERRATED_OUTDIR=underrated_runs
# External APIs (optional: override endpoints/tokens)
TB_COINGECKO_API=https://api.coingecko.com/api/v3
GITHUB_TOKEN=
TWITTER_BEARER_TOKEN=

TB_USE_ML_GATE=1
TB_ML_GATE_MODEL_PATH=eval_runs/ml/latest/model.pt
TB_ML_FEATURES_PATH=eval_runs/ml/latest/features.csv

# --- ATR volatility filter (optional) ---
TB_USE_ATR_FILTER=1
TB_ATR_LEN=14
TB_ATR_MIN_PCT=0.002
TB_ATR_MAX_PCT=0.10

# --- Higher-timeframe regime (optional) ---
TB_USE_HTF_REGIME=0
TB_HTF_EMA_LEN=200

# === ML gate: use stable symlink + resilience ===
TB_ML_GATE_SOFT=1
TB_ML_PROB_FLOOR=0.25
TB_ML_LATEST_MAX_AGE_HR=24

# Threshold (you currently have 0.5; for more activity, consider):
TB_ML_GATE_MIN_PROB=0.25

# === Enhanced ML Configuration ===
TB_ML_RETRAIN_EVERY_SEC=21600
TB_ML_RETRAIN_FORCE_BACKUP=1
TB_ML_RETRAIN_MIN_ACCURACY=0.55
TB_ML_MONITOR_ENABLED=1
TB_ML_MONITOR_LOG_FILE=ml_monitor.log
TB_ML_HEALTH_CHECK_INTERVAL=3600
TB_ML_MODEL_TYPE=EnhancedMLP
TB_ML_HIDDEN_DIMS=64,32,16
TB_ML_DROPOUT_RATE=0.2
TB_ML_LEARNING_RATE=0.001
TB_ML_WEIGHT_DECAY=0.0001

# === 1h entry path (secondary) ===
TB_USE_1H_ENTRY=1
TB_1H_EMA_FAST=12
TB_1H_EMA_SLOW=26
TB_1H_DEBOUNCE_N=1
TB_1H_SIZE_MULT=0.6

# === 15m entry behavior ===
TB_SIGNAL_DEBOUNCE_N=0

# === Exploration knobs (optional, increases activity) ===
TB_EPSILON_PCT=15
TB_EXP_PROB=0.28
TB_EPS_PROB=0.25

# === Health check tuning (optional) ===
TB_HEALTH_ML_PROB_LOOKBACK=20

# === Auditing (explicit) ===
TB_AUDIT=1
TB_MAX_NOTIONAL_PER_TRADE=1000
